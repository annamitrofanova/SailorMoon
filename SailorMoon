
#include <stdio.h>
#include <time.h>
#include <stdlib.h>
#include <string.h>
#include <malloc.h>

void anna_random(int f, int* end, char iter) //возвращает указатель на начало массива
{

static int cntr = 0;

srand(time(NULL) + cntr);
int b = rand(); int e = 2; int o = 0;
int k = b % 4;
int i = 0;

//end = (int*)malloc(10 * sizeof(int));
//while (i<10){
cntr++;


if (iter == 9){
   
   *end = 3;
	
   
   return;
}

if (k == 0)
{

*end = 1; i++; anna_random(e, end + 1, iter + 1);
} // S=aY

if (k == 1)
{

*end = 2; i++; anna_random(e, end + 1, iter + 1);
} // S=Yb

if (k == 2)
{

*end = 3; i++; return;
} // Y=xx

if (k == 3)
{

*end = 4; i++; anna_random(o, end + 1, iter + 1);
} // Y=Sz

   
   return;
}

int main(){

printf("Генератор фраз Сейлор Мун\n");
char *a = { "Лунная призма, дай мне силу! " };
char *b = { "Я воин в матроске. " };
char *xx = { "Я несу возмездие во имя Луны. " };
char *z = { "Я Сейлор Мун!" };

int* end = (int*)malloc(10 * sizeof(int)); //адрес начала массива номеров

short l = 0, h = 0;
int e = 2;

anna_random(e, end, 0);

int w = end[l];

do { w = end[l]; l++; } while(w != 3);//ищем номер первое вхождение 3 
char* kon[10];//массив предложений

w = 0; h = 0;

while (h < l)
	{

w = end[h];
	
switch (w){
case 1: kon[h] = a; break;

case 2: kon[h] = b; break;

case 3: kon[h] = xx; break;

case 4: kon[h] = z;  break;

default: return 1;  

}
h++;
}

for (h = 0; h < l; h++) printf("%s ", kon[h]);


return 0;

}

